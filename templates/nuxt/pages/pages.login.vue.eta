<template>
  <NuxtPage />
</template>
<script setup lang="ts">
definePageMeta({
  name: "Login",
  auth: false,
});

// const route = useRoute();
const { signIn } = useAuth();
onMounted(async () => {
  let callbackUrl = "/";
  console.log("redirect to login");
  // if(route.params.redirect) {
  //     callbackUrl = <string>route.params.redirect;
  // }
  await signIn("keycloak", { callbackUrl: callbackUrl });
});
</script>
