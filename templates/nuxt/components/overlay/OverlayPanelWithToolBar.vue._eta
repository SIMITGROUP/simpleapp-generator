<template>
  <Drawer
    :position="position ?? 'right'"
    v-if="showDialog"
    v-model:visible="showDialog"
    modal
    :show-close-icon="false"
    :dismissable="dismissable"
    :pt="{root:{class:'!w-2/3 border-0 border-l border-l-gray-500'}}"
    #container
  >
    <div class="overflow-y-scroll">
      <MobileToolbar class="">
        <template #start>
          <slot name="headerLeft"></slot>
        </template>
        <template #center>
          <slot name="headerCenter"></slot>
        </template>
        <template #end>
          <slot name="headerRight"></slot>
        </template>
      </MobileToolbar>
      <div class="p-2">
        <slot name="default"></slot>
      </div>
    </div>
  </Drawer>
</template>
<script lang="ts" setup>
/**
 * This file was automatically generated by simpleapp generator during initialization. It is changable.
 * --remove-this-line-to-prevent-override--
 * last change 2023-10-28
 * Author: Ks Tan
 */
const showDialog = defineModel<boolean>({ required: true });
const props = defineProps<{
  closeEventName: string;
  dismissable?: boolean;
  position?: "right" | "full" | "left" | "top" | "bottom" | undefined;
}>();
// const position = ref(props?.position ?? 'right')
useNuxtApp().$listen("CloseDialog", (closeEventName: string) => {
  if (props.closeEventName == closeEventName) {
    showDialog.value = false;
  }
});
</script>
