/**
 * This file was automatically generated by simpleapp generator.
 * --remove-this-line-to-prevent-override--
 * last change 2025-03-16
 * author: Ks Tan
 */

// import {generateSymmetryRandomIv,symmetryEncrypt,saveToken,loginUser} from '~/shared/liblogin'
export default defineEventHandler(async (event) => {
  try{
    const token = await loginUser(event)
    return token
  }catch(error){
    throw createError({
      statusCode: 401,
      message: 'Bad credentials',
      data: error
    })
  }
})