<template>  
    <NuxtLayout :name="getLayout()">      
      <SessionBlock/>
      <EventDocumentViewer></EventDocumentViewer>      
      <EventDecision/>
      <EventNotification/>
      <NuxtPage />
    </NuxtLayout>
</template>
<script setup lang="ts">
/**
 * This file was automatically generated by simpleapp generator during initialization. It is changable.
 * --remove-this-line-to-prevent-override--
 * last change 2024-02-22
 * author: Ks Tan
 */
watch(()=>useRoute().params['xorg'],(newval,oldvalue)=>{
  reloadUserStore()
})

const getLayout = ()=>{
  const { status } = useAuth();    
  if(status.value=='unauthenticated') return 'loginlayout'
  else return useDevice().isMobile ? 'mobile' : 'default'
}
</script>