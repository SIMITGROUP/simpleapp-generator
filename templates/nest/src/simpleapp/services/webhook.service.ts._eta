/**
 * This file was automatically generated by simpleapp generator. It is changable
 * --remove-this-line-to-prevent-override--
 * last change 2024-02-23
 * Author: Ks Tan
 */

import { InjectModel } from '@nestjs/mongoose';
import { Model } from 'mongoose';
import { Injectable } from '@nestjs/common';
import { UserContext } from '../generate/commons/user.context';
import { WebhookProcessor } from '../generate/processors/webhook.processor';
//import { Webhook,WebhookHooks} from '../generate/types';
import * as types from '../generate/types';
import { WebhooklogService } from './webhooklog.service';
export { Webhook } from '../generate/types';

@Injectable()
export class WebhookService extends WebhookProcessor {
  //protected hooks: types.WebhookHooks = {}
  constructor(
    @InjectModel('Webhook') mydoc: Model<types.Webhook>,
    private webhooklogService: WebhooklogService,
    ) {
    super(mydoc);
  }

  /***************************** begin x-document-api definitions *****************************************/
  

  async runGetHistories(appuser: UserContext, id: string) {
    const results = await this.webhooklogService.search(appuser, { webHookId: id });
    return results;
  }

  /***************************** end x-document-api definitions *****************************************/
}
